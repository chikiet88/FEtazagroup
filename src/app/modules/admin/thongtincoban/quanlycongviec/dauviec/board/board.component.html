  <div class="flex-auto p-6 sm:p-8 sm:pt-4 overflow-y-auto" cdkScrollable>

    <div
        class="flex"
        cdkDropList
        [cdkDropListData]="Boards"
        [cdkDropListOrientation]="'horizontal'"
        (cdkDropListDropped)="listDropped($event)">
        <div class="flex items-start" cdkDropListGroup>
            <ng-container *ngFor="let list of Boards; trackBy: trackByFn">
                <div
                    class="flex-0 w-96 p-2 rounded-2xl"
                    cdkDrag
                    [cdkDragLockAxis]="'x'">
                    <div
                        class="flex items-center justify-between"
                        cdkDragHandle>
                        <div class="flex items-center w-full py-2 px-3 rounded-md cursor-text border border-transparent focus-within:bg-white focus-within:shadow-sm focus-within:border-primary dark:focus-within:bg-gray-900">
                            <input
                                class="w-full font-medium leading-5 bg-transparent"
                                [spellcheck]="'false'"
                                [value]="list.Tieude"
                                (keydown.enter)="updateListTitle($event, list);listTitleInput.blur()"
                                #listTitleInput>
                        </div>
                        <div class="flex items-center justify-center min-w-6 ml-4 text-sm font-semibold leading-6 rounded-full bg-gray-300 text-secondary dark:bg-gray-700">
                            {{list.tasks.length}}
                        </div>
                        <div class="ml-1">
                            <button
                                class="w-8 h-8 min-h-8"
                                mat-icon-button
                                [matMenuTriggerFor]="listMenu">
                                <mat-icon
                                    class="icon-size-5"
                                    [svgIcon]="'heroicons_solid:dots-vertical'"></mat-icon>
                            </button>

                            <mat-menu #listMenu="matMenu">
                                <button
                                    mat-menu-item
                                    (click)="deleteGroup(list)">
                                    <mat-icon
                                        class="icon-size-5"
                                        [svgIcon]="'heroicons_solid:trash'"></mat-icon>
                                    Xóa Group
                                </button>
                            </mat-menu>
                        </div>
                    </div>

                    <div class="mt-2 rounded-xl bg-gray-400 bg-opacity-12 dark:bg-transparent dark:border">

                        <div
                            [id]="list.id"
                            class="px-3 py-5"
                            cdkDropList
                            [cdkDropListData]="list.tasks"
                            (cdkDropListDropped)="cardDropped($event,list.tasks)">
                            <ng-container *ngFor="let card of list.tasks; trackBy: trackByFn">

<a class="flex flex-col items-start mb-3 p-5 space-y-3 shadow rounded-lg overflow-hidden bg-card" cdkDrag (click)="OpenEdit(card)">
                                    <div class="text-lg font-medium leading-5">{{card.Tieude}} </div>

                                    <div class="relative flex items-center mt-1.5 px-4 leading-9 rounded-full cursor-pointer"
                                    [ngClass]="{'text-gray-500 bg-gray-100 dark:text-gray-300 dark:bg-gray-700': !card.Batdau&&!card.Ketthuc,
                                              'text-green-800 bg-green-200 dark:text-green-100 dark:bg-green-500': card.Batdau && card.Ketthuc}">
                                    <mat-icon class="icon-size-5 text-current" [svgIcon]="'heroicons_solid:calendar'"></mat-icon>
                                    <span class="ml-2 text-md font-medium">
                                      <ng-container *ngIf="card.Batdau || card.Ketthuc">{{card.Batdau | date:'dd/MM/yyyy'}} - {{card.Ketthuc | date:'dd/MM/yyyy'}}</ng-container>
                                      <ng-container *ngIf="!card.Batdau && !card.Ketthuc">Chưa Chọn</ng-container>
                                    </span>
                                  </div>
                                    <!-- Labels -->
                                    <!-- <ng-container *ngIf="card.labels.length">
                                        <div>
                                            <div class="flex flex-wrap -mx-1 -mb-2">
                                                <ng-container *ngFor="let label of card.labels; trackBy: trackByFn">
                                                    <div class="mx-1 mb-2 py-0.5 px-3 rounded-full text-sm font-medium text-gray-500 bg-gray-100 dark:text-gray-300 dark:bg-gray-700">
                                                        {{label.title}}
                                                    </div>
                                                </ng-container>
                                            </div>
                                        </div>
                                    </ng-container> -->
                                    <!-- Due date -->
                                    <ng-container *ngIf="card.dueDate">
                                        <div
                                            class="flex items-center rounded text-sm font-medium leading-5 text-secondary"
                                            [ngClass]="{'text-red-600': isOverdue(card.dueDate)}">
                                            <mat-icon
                                                class="icon-size-4 text-current"
                                                [svgIcon]="'heroicons_outline:clock'"></mat-icon>
                                            <div class="ml-1">
                                                {{card.dueDate | date: 'longDate'}}
                                            </div>
                                        </div>
                                    </ng-container>
                                </a>
                            </ng-container>

                            <app-addcard [buttonTitle]="'Thêm Đầu Việc'"  (saved)="addCard(list, $event)"> </app-addcard>                      
                        </div>
                      
                    </div>
                </div>
            </ng-container>
            <app-addlist
            (saved)="addList($event)"
            [buttonTitle]="'Thêm Group'">
        </app-addlist> 
        </div>

    </div>

</div> 


