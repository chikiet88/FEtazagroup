<div class="flex flex-col w-full">
    <ng-container *ngIf="nhanvien.profile">
        <div class="relative w-full h-40 sm:h-48 px-8 sm:px-12 bg-accent-100 dark:bg-accent-700">
            <ng-container *ngIf="nhanvien.background">
                <img class="absolute inset-0 object-cover w-full h-full" [src]="nhanvien.background">
            </ng-container>
            <ng-container *ngIf="!nhanvien.background">
                <img class="absolute inset-0 object-cover w-full h-full" style="background-color: rgb(0, 102, 255);">
            </ng-container>
            <div class="flex items-center justify-end w-full max-w-3xl mx-auto ">
                <div class="flex items-center ml-auto mb-1">
                    <button mat-icon-button (click)="editNhanvien()">
                        <mat-icon class="text-white" [svgIcon]="'heroicons_solid:pencil-alt'"></mat-icon>
                    </button>
                </div>
                <button mat-icon-button [matTooltip]="'Close'" [routerLink]="['../']">
                    <mat-icon class="text-white" [svgIcon]="'heroicons_outline:x'"></mat-icon>
                </button>
            </div>
        </div>


        <div class="relative flex flex-col flex-auto items-center p-6 pt-0 sm:p-12 sm:pt-0">
            <div class="w-full max-w-3xl">
                <form [formGroup]="NhanvienForm">
                    <div class="flex flex-auto items-end -mt-40">
                        <div
                            class="flex items-center justify-center w-32 h-32 rounded-full overflow-hidden ring-4 ring-bg-card">
                            <img class="object-cover w-full h-full" *ngIf="nhanvien.avatar" [src]="nhanvien.avatar">
                            <div class="flex items-center justify-center w-full h-full rounded overflow-hidden uppercase text-8xl font-bold leading-none bg-gray-200 text-gray-600 dark:bg-gray-700 dark:text-gray-200"
                                *ngIf="!nhanvien.avatar">
                                {{nhanvien.name.charAt(0)}}
                            </div>
                        </div>
                    </div>
                    <div class="flex flex-col mt-4 pt-6 space-y-3">
                        <div class="mt-3 py-2 text-2xl font-bold truncate">Thông Tin Cá Nhân</div>
                        <ng-container>
                            <div class="flex justify-center">
                                <mat-form-field class="fuse-mat-no-subscript fuse-mat-emphasized-affix w-2/3">
                                    <div class="material-icons icon-size-5" matPrefix>
                                        account_circle
                                    </div>
                                    <input [formControlName]="'name'" matInput class="mat-select-value-text">
                                </mat-form-field>
                                <mat-form-field class="fuse-mat-no-subscript fuse-mat-emphasized-affix ml-3 w-1/3">
                                    <mat-select placeholder="Phân Quyền" [formControlName]="'Role'" #roleSelect="matSelect">
                                        <mat-select-trigger class="text-md">
                                            <span>Role:</span>
                                            <span class="ml-1 font-medium">{{roleSelect.value | titlecase}}</span>
                                        </mat-select-trigger>
                                        <mat-option [value]="'admin'" class="h-auto py-4 leading-none">
                                            <div class="font-medium">Admin</div>
                                            <div class="mt-1.5 text-sm whitespace-normal leading-normal text-secondary">Toàn quyền quản lý</div>
                                        </mat-option>
                                        <mat-option [value]="'manager'">Quản Lý</mat-option>
                                        <mat-option [value]="'user'">Nhân Viên</mat-option>
                                    </mat-select>                           
                                </mat-form-field>  
                            </div>
                        </ng-container>
                        <ng-container>
                            <div class="flex justify-center">
                                <mat-form-field class="fuse-mat-no-subscript fuse-mat-emphasized-affix w-1/2">
                                    <span class="material-icons icon-size-5" matPrefix>
                                        alternate_email
                                    </span>
                                    <input [formControlName]="'email'" matInput class="mat-select-value-text">
                                </mat-form-field>
                                <mat-form-field class="fuse-mat-no-subscript fuse-mat-emphasized-affix ml-3 w-1/2">
                                    <div class="material-icons icon-size-5" matPrefix>
                                        <span class="material-icons">
                                            phone_iphone
                                        </span>
                                    </div>
                                    <input [formControlName]="'SDT'" matInput class="mat-select-value-text">
                                </mat-form-field>
                            </div>
                        </ng-container>
            <div [formGroupName]="'profile'" class="flex flex-col space-y-3">
                        <ng-container>
                              <mat-form-field class="fuse-mat-no-subscript fuse-mat-emphasized-affix w-full">
                                <div class="text-secondary" matPrefix>
                                    Mã Nhân Viên
                                </div>
                                <input [formControlName]="'MaNV'" matInput class="mat-select-value-text">
                            </mat-form-field>
                        </ng-container>
                        <ng-container>
                            <mat-form-field class="fuse-mat-no-subscript fuse-mat-emphasized-affix w-full">
                                <div class="text-secondary" matPrefix>
                                    Giới Tính
                                </div>
                                <input [formControlName]="'Gioitinh'" matInput class="mat-select-value-text">
                            </mat-form-field>
                        </ng-container>
                        <ng-container>
                            <mat-form-field class="fuse-mat-no-subscript fuse-mat-emphasized-affix w-full">
                                <div class="text-secondary" matPrefix>
                                  Ngày Sinh
                                </div>
                                <input [formControlName]="'Ngaysinh'" matInput class="mat-select-value-text">
                            </mat-form-field>
                        </ng-container>
                        <ng-container>
                            <mat-form-field class="fuse-mat-no-subscript fuse-mat-emphasized-affix w-full">
                                <div class="text-secondary" matPrefix>
                                    CMND/CCCD
                                </div>
                                <input [formControlName]="'CMND'" matInput class="mat-select-value-text">
                            </mat-form-field>
                        </ng-container>
                        <ng-container>
                            <mat-form-field class="fuse-mat-no-subscript fuse-mat-emphasized-affix w-full">
                                <div class="text-secondary" matPrefix>
                                    Địa Chỉ
                                </div>
                                <input [formControlName]="'Diachi'" matInput class="mat-select-value-text">
                            </mat-form-field>
                        </ng-container>
                        <ng-container>
                            <mat-form-field class="fuse-mat-no-subscript fuse-mat-emphasized-affix w-full">
                                <div class="text-secondary" matPrefix>
                                    Zalo
                                </div>
                                <input [formControlName]="'Zalo'" matInput class="mat-select-value-text">
                            </mat-form-field>
                        </ng-container>
                        <ng-container>
                            <mat-form-field class="fuse-mat-no-subscript fuse-mat-emphasized-affix w-full">
                                <div class="text-secondary" matPrefix>
                                   Facebook
                                </div>
                                <input [formControlName]="'Fb'" matInput class="mat-select-value-text">
                            </mat-form-field>
                        </ng-container>
                          </div>
                    </div>
                    <div class="flex flex-col mt-4 border-t space-y-3" [formGroupName]="'profile'">
                        <div class="mt-3 py-2 text-2xl font-bold truncate">Thông Tin Công Ty</div>
                        <ng-container>
                            <mat-form-field class="fuse-mat-no-subscript fuse-mat-emphasized-affix w-full">
                                <div class="text-secondary" matPrefix>
                                   Công Ty
                                </div>
                                <input [formControlName]="'Congty'" matInput class="mat-select-value-text">
                            </mat-form-field>       
                        </ng-container>
                        <ng-container>
                            <mat-form-field class="fuse-mat-no-subscript fuse-mat-emphasized-affix w-full">
                                <div class="text-secondary" matPrefix>
                                  Khối
                                </div>
                                <input [formControlName]="'Khoi'" matInput class="mat-select-value-text">
                            </mat-form-field> 
                        </ng-container>
                        <ng-container>
                            <mat-form-field class="fuse-mat-no-subscript fuse-mat-emphasized-affix w-full">
                                <div class="text-secondary" matPrefix>
                                  Phòng Ban
                                </div>
                                <input [formControlName]="'Phongban'" matInput class="mat-select-value-text">
                            </mat-form-field> 
                        </ng-container>
                        <ng-container>
                            <mat-form-field class="fuse-mat-no-subscript fuse-mat-emphasized-affix w-full">
                                <div class="text-secondary" matPrefix>
                                  Bộ Phận
                                </div>
                                <input [formControlName]="'Bophan'" matInput class="mat-select-value-text">
                            </mat-form-field> 
                        </ng-container>
                        <ng-container>
                            <mat-form-field class="fuse-mat-no-subscript fuse-mat-emphasized-affix w-full">
                                <div class="text-secondary" matPrefix>
                                 Vị Trí
                                </div>
                                <input [formControlName]="'Vitri'" matInput class="mat-select-value-text">
                            </mat-form-field> 
                        </ng-container>
                    </div>
                    <div class="flex items-center mt-10 -mx-6 sm:-mx-12 py-4 pr-4 pl-1 sm:pr-12 sm:pl-7 border-t bg-gray-50 dark:bg-transparent">
                        <!-- Delete -->
                        <button
                            mat-button
                            [color]="'warn'"
                            [matTooltip]="'Xóa'"
                            (click)="deleteNhanvien()">
                            Xóa
                        </button>
                        <button
                            class="ml-auto"
                            mat-button
                            [matTooltip]="'Hủy'"
                            (click)="Cancel()">
                            Hủy
                        </button>
                        <button
                            class="ml-2"
                            mat-flat-button
                            [color]="'primary'"
                            [disabled]="NhanvienForm.invalid || NhanvienForm.disabled"
                            [matTooltip]="'Save'"
                            (click)="updateNhanvien()">
                            Lưu
                        </button>
                    </div>      
                </form>
            </div>
        </div>
    </ng-container>
</div>