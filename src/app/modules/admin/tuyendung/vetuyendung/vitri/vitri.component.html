<div class="flex flex-col flex-auto w-80 min-w-80 p-2 md:p-4">
    <!-- Header -->
    <div class="flex items-center justify-between">
        <div class="text-2xl font-semibold">Chỉnh Sửa Vị Trí</div>
        <button
            matDialogClose
            mat-icon-button>
            <mat-icon [svgIcon]="'heroicons_outline:x'"></mat-icon>
        </button>
    </div>
    <!-- New vitri -->
    <mat-form-field
        class="fuse-mat-dense w-full mt-8"
        [floatLabel]="'always'">
        <input
            name="new-vitri"
            [autocomplete]="'off'"
            [placeholder]="'Tạo Mới Vị Trí'"
            matInput
            #newVitriInput>
        <button
            [class.invisible]="newVitriInput.value.trim() === ''"
            mat-icon-button
            (click)="addVitri(newVitriInput.value); newVitriInput.value = ''"
            matSuffix>
            <mat-icon
                class="icon-size-5"
                [svgIcon]="'heroicons_solid:check-circle'"></mat-icon>
        </button>
    </mat-form-field>
    <!-- Vitris -->
    <div class="flex flex-col mt-4">
        <ng-container *ngIf="(vitris$ | async) as vitris">
            <ng-container *ngFor="let vitri of vitris; trackBy: trackByFn">
                <mat-form-field class="fuse-mat-dense w-full">
                    <button
                        mat-icon-button
                        matPrefix
                        (click)="deleteVitri(vitri.id)">
                        <mat-icon
                            class="icon-size-5"
                            [svgIcon]="'heroicons_solid:trash'"></mat-icon>
                    </button>
                    <input
                        [autocomplete]="'off'"
                        [(ngModel)]="vitri.title"
                        (input)="updateVitri(vitri)"
                        required
                        matInput>
                </mat-form-field>
            </ng-container>
        </ng-container>
    </div>
</div>
